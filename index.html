<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tiles Game</title>
    <script src="/js/jquery.min.js"></script>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="shortcut icon" href="/images/icon.png" type="image/x-icon">
    <meta name="description" content="Tiles Game is a free and fun game to keep you entertained always!">
    <meta name="keywords" content="tiles game, free tiles game, free game, game, online game">

    <!-- Verification & Statistics -->
    <meta name="google-site-verification" content="vc8YruMBo8wmjrmg6mtO_LQMzCawvsOuKIBWheb3Bu4" />
    <script type="text/javascript">
        (function (c, l, a, r, i, t, y) {
            c[a] = c[a] || function () { (c[a].q = c[a].q || []).push(arguments) };
            t = l.createElement(r); t.async = 1; t.src = "https://www.clarity.ms/tag/" + i;
            y = l.getElementsByTagName(r)[0]; y.parentNode.insertBefore(t, y);
        })(window, document, "clarity", "script", "gy2r6d5ui3");
    </script>
</head>

<script async src="https://www.googletagmanager.com/gtag/js?id=G-7YB4VB4BJG"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-7YB4VB4BJG');
</script>

<body>
    <audio loop preload="auto" class="background-music" src="/music/background.mp3"> </audio>

    <div class="loading-screen">
        <img src="/images/icon.png" alt="" class="logo">
        Tiles Game
        <div class="start-btn inactive">Start Game</div>
    </div>

    <div class="credits">
        <div class="app-name" style="margin:0;text-align:center;">Credits</div>
        Created By: <a href="https://github.com/sancho1952007" target="_blank">Sancho Godinho</a>
        <br>
        Owned By: <a href="https://github.com/sanchogodinhoapps" target="_blank">SG Apps</a>
        <br>
        Scripts: <a href="https://jquery.com" target="_blank">jQuery</a>,
        <a href="https://livejs.com/" target="_blank">Live.js (During Development)</a>
        <br>
        Fonts: <a href="https://www.dafont.com/04b-19.font" target="_blank">04b-19 font</a>, <a
            href="https://www.dafont.com/mintsans.font" target="_blank">Mintsans</a>,
        <a href="https://fonts.google.com/specimen/Barlow" target="_blank">Barlow</a>
        <br>
        Sound Effects, Music: <a target="_blank"
            href="https://pixabay.com/users/moodmode-33139253/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=music&amp;utm_content=138828">Moodmode</a>,
        <a target="_blank"
            href="https://pixabay.com/sound-effects/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=music&amp;utm_content=14575">Pixabay</a>
        <div class="return-button" onclick="$('.credits').fadeOut(500);">Return To Game</div>
    </div>

    <div class="start-screen">
        <div class="app-name">Tiles Game</div>
        <div class="section-text">Select Difficulty:</div>
        <div class="option" onclick="startSuperEasy();">Super Easy</div>
        <div class="option" onclick="startEasy();">Easy</div>
        <div class="option" onclick="startMedium();">Medium</div>
        <div class="option" onclick="startHard();">Hard</div>
        <div class="option" onclick="startSuperHard();">Super Hard</div>
        <div class="option view-credits" onclick="$('.credits').fadeIn(500);">See Credits</div>
        <div class="how-to"
            style="width:calc(100% - 20px);font-family:'Barlow',sans-serif;text-align:center;margin-top:10px;">Click The
            Red Tiles When They Appear To Increase Your Score,<br>You Have 1 Minute Of Time Until The Game Ends!
        </div>
    </div>

    <div class="end-screen">
        <div class="message">
            You Scored {score} in {mode} Mode In 1 Minute!
        </div>
        <div class="high-score">High Score: {high-score}</div>
        <div class="opt-btn play-again-btn">Play Again</div>
        <div class="opt-btn change-mode-btn">Go Home</div>
    </div>

    <div class="pause-screen">
        <div class="app-name">Game Paused</div>
        <div class="btn resume">Resume</div>
        <div class="btn play-again">Play Again</div>
        <div class="btn change-mode">Go Home</div>
    </div>

    <div class="container">
        <div class="scores">
            <div class="all-scores">
                <div class="score">Score: 0</div>
                <div class="time">Seconds: 0</div>
            </div>
            <div class="pause-button">
                <div class="pause"><img src="/images/pause-icon.png" alt=""></div>
            </div>
        </div>
        <div class="tiles">
            <div class="tile"></div>
            <div class="tile"></div>
            <div class="tile"></div>
            <div class="tile"></div>
            <div class="tile"></div>
            <div class="tile"></div>
            <div class="tile"></div>
            <div class="tile"></div>
            <div class="tile"></div>
        </div>
    </div>
</body>

<script>
    if (window.location.protocol == 'http:') {
        window.location.protocol = 'https:';
    }

    function blobToBase64(blob) {
        return new Promise((resolve, _) => {
            const reader = new FileReader();
            reader.onloadend = () => resolve(reader.result);
            reader.readAsDataURL(blob);
        });
    }

    fetch('/music/click.mp3').then(res => res.blob()).then(blob => {
        blobToBase64(blob).then(audioBlobData => {
            window.ClickAudio = audioBlobData;
        });
    });

    $('.end-screen').hide();
    $('.pause-screen').hide();
    $('.credits').hide();
    $(window).on('load', () => {
        $('.start-btn').removeClass('inactive');
        $('.start-btn').hide();
        $('.start-btn').fadeIn(300, () => {
            $('.start-btn').css('transition', 'all .10 linear');
        });
        $('.start-btn').click(() => {
            $('.loading-screen').fadeOut(500);
            $('.background-music')[0].play();
        });
    });

    window.wasPaused = false;
    window.running = false;
    window.paused = false;
    window.mode;

    const getHighScore = (mode, score) => {
        window.mode = 'easy';
        let highscores = localStorage.getItem('highscores');
        if (highscores != null) {
            try {
                highscores = JSON.parse(highscores);
                if (highscores[mode] != null) {
                    if (highscores[mode] < score) {
                        highscores[mode] = score;
                        localStorage.setItem('highscores', JSON.stringify(highscores));
                    }
                    return highscores[mode];
                }
                else {
                    localStorage.setItem('highscores', JSON.stringify({ 'super-easy': 0, easy: 0, medium: 0, hard: 0, 'super-hard': 0 }));
                    return 0;
                }
            }
            catch (err) {
                localStorage.setItem('highscores', JSON.stringify({ 'super-easy': 0, easy: 0, medium: 0, hard: 0, 'super-hard': 0 }));
                return getHighScore(mode, score);
            }
        }
        else {
            localStorage.setItem('highscores', JSON.stringify({ 'super-easy': 0, easy: 0, medium: 0, hard: 0, 'super-hard': 0 }));
            return getHighScore(mode, score);
        }
    }

    const startSuperEasy = () => {
        setTimeout(() => {
            if (running == false) {
                if (window.wasPaused == false) {
                    $('.start-screen').fadeOut(500);
                    window.score = 0;
                    window.seconds = 0;
                }
                window.wasPaused = false;
                window.running = true;
                window.tilesTimer = setInterval(() => {
                    if (window.paused == false) {
                        let randomTile = Math.floor(Math.random() * 9);
                        document.querySelectorAll('.tile')[randomTile].style.backgroundColor = 'red';
                        document.querySelectorAll('.tile')[randomTile].setAttribute('onclick', 'window.score++;this.removeAttribute("onclick");this.backgroundColor="#ccc";new Audio(window.ClickAudio).play();');
                        document.querySelector('.score').innerText = 'Score: ' + window.score;
                        setTimeout(() => {
                            document.querySelectorAll('.tile')[randomTile].style.backgroundColor = '#ccc';
                            document.querySelectorAll('.tile')[randomTile].removeAttribute('onclick');
                        }, 800);
                    }
                }, 800);

                window.currentTimer = setInterval(() => {
                    if (window.paused == false) {
                        if (window.seconds == 60) {
                            window.running = false;
                            clearInterval(window.currentTimer);
                            clearInterval(window.tilesTimer);
                            $('.message').text($('.message').text().replaceAll('{mode}', 'Super Easy'));
                            $('.message').text($('.message').text().replaceAll('{score}', window.score));
                            $('.high-score').text($('.high-score').text().replaceAll('{high-score}', getHighScore('super-easy', window.score)));
                            $('.end-screen').fadeIn(500);
                        }
                        else {
                            window.seconds++;
                            document.querySelector('.time').innerText = 'Seconds: ' + seconds;
                        }
                    }
                }, 1000);
            }
        }, 500);
    }

    const startEasy = () => {
        setTimeout(() => {
            if (running == false) {
                if (window.wasPaused == false) {
                    $('.start-screen').fadeOut(500);
                    window.score = 0;
                    window.seconds = 0;
                }
                window.wasPaused = false;
                window.running = true;
                window.tilesTimer = setInterval(() => {
                    if (window.paused == false) {
                        let randomTile = Math.floor(Math.random() * 9);
                        document.querySelectorAll('.tile')[randomTile].style.backgroundColor = 'red';
                        document.querySelectorAll('.tile')[randomTile].setAttribute('onclick', 'window.score++;this.removeAttribute("onclick");this.backgroundColor="#ccc";new Audio(window.ClickAudio).play();');
                        document.querySelector('.score').innerText = 'Score: ' + window.score;
                        setTimeout(() => {
                            document.querySelectorAll('.tile')[randomTile].style.backgroundColor = '#ccc';
                            document.querySelectorAll('.tile')[randomTile].removeAttribute('onclick');
                        }, 650);
                    }
                }, 650);

                window.currentTimer = setInterval(() => {
                    if (window.paused == false) {
                        if (window.seconds == 60) {
                            window.running = false;
                            clearInterval(window.currentTimer);
                            clearInterval(window.tilesTimer);
                            $('.message').text($('.message').text().replaceAll('{mode}', 'Easy'));
                            $('.message').text($('.message').text().replaceAll('{score}', window.score));
                            $('.high-score').text($('.high-score').text().replaceAll('{high-score}', getHighScore('easy', window.score)));
                            $('.end-screen').fadeIn(500);
                        }
                        else {
                            window.seconds++;
                            document.querySelector('.time').innerText = 'Seconds: ' + seconds;
                        }
                    }
                }, 1000);
            }
        }, 500);
    }

    const startMedium = () => {
        setTimeout(() => {
            if (running == false) {
                if (window.wasPaused == false) {
                    $('.start-screen').fadeOut(500);
                    window.score = 0;
                    window.seconds = 0;
                }
                window.wasPaused = false;
                window.running = true;
                window.tilesTimer = setInterval(() => {
                    if (window.paused == false) {
                        let randomTile = Math.floor(Math.random() * 9);
                        document.querySelectorAll('.tile')[randomTile].style.backgroundColor = 'red';
                        document.querySelectorAll('.tile')[randomTile].setAttribute('onclick', 'window.score++;this.removeAttribute("onclick");this.backgroundColor="#ccc";new Audio(window.ClickAudio).play();');
                        document.querySelector('.score').innerText = 'Score: ' + window.score;
                        setTimeout(() => {
                            document.querySelectorAll('.tile')[randomTile].style.backgroundColor = '#ccc';
                            document.querySelectorAll('.tile')[randomTile].removeAttribute('onclick');
                        }, 500);
                    }
                }, 500);

                window.currentTimer = setInterval(() => {
                    if (window.paused == false) {
                        if (window.seconds == 60) {
                            window.running = false;
                            clearInterval(window.currentTimer);
                            clearInterval(window.tilesTimer);
                            $('.message').text($('.message').text().replaceAll('{mode}', 'Medium'));
                            $('.message').text($('.message').text().replaceAll('{score}', window.score));
                            $('.high-score').text($('.high-score').text().replaceAll('{high-score}', getHighScore('medium', window.score)));
                            $('.end-screen').fadeIn(500);
                        }
                        else {
                            window.seconds++;
                            document.querySelector('.time').innerText = 'Seconds: ' + seconds;
                        }
                    }
                }, 1000);
            }
        }, 500);
    }

    const startHard = () => {
        setTimeout(() => {
            if (running == false) {
                if (window.wasPaused == false) {
                    $('.start-screen').fadeOut(500);
                    window.score = 0;
                    window.seconds = 0;
                }
                window.wasPaused = false;
                window.running = true;
                window.tilesTimer = setInterval(() => {
                    if (window.paused == false) {
                        let randomTile = Math.floor(Math.random() * 9);
                        document.querySelectorAll('.tile')[randomTile].style.backgroundColor = 'red';
                        document.querySelectorAll('.tile')[randomTile].setAttribute('onclick', 'window.score++;this.removeAttribute("onclick");this.backgroundColor="#ccc";new Audio(window.ClickAudio).play();');
                        document.querySelector('.score').innerText = 'Score: ' + window.score;
                        setTimeout(() => {
                            document.querySelectorAll('.tile')[randomTile].style.backgroundColor = '#ccc';
                            document.querySelectorAll('.tile')[randomTile].removeAttribute('onclick');
                        }, 425);
                    }
                }, 425);

                window.currentTimer = setInterval(() => {
                    if (window.paused == false) {
                        if (window.seconds == 60) {
                            window.running = false;
                            clearInterval(window.currentTimer);
                            clearInterval(window.tilesTimer);
                            $('.message').text($('.message').text().replaceAll('{mode}', 'Hard'));
                            $('.message').text($('.message').text().replaceAll('{score}', window.score));
                            $('.high-score').text($('.high-score').text().replaceAll('{high-score}', getHighScore('hard', window.score)));
                            $('.end-screen').fadeIn(500);
                        }
                        else {
                            window.seconds++;
                            document.querySelector('.time').innerText = 'Seconds: ' + seconds;
                        }
                    }
                }, 1000);
            }
        }, 500);
    }

    const startSuperHard = () => {
        setTimeout(() => {
            if (running == false) {
                if (window.wasPaused == false) {
                    $('.start-screen').fadeOut(500);
                    window.score = 0;
                    window.seconds = 0;
                }
                window.wasPaused = false;
                window.running = true;
                window.tilesTimer = setInterval(() => {
                    if (window.paused == false) {
                        let randomTile = Math.floor(Math.random() * 9);
                        document.querySelectorAll('.tile')[randomTile].style.backgroundColor = 'red';
                        document.querySelectorAll('.tile')[randomTile].setAttribute('onclick', 'window.score++;this.removeAttribute("onclick");this.backgroundColor="#ccc";new Audio(window.ClickAudio).play();');
                        document.querySelector('.score').innerText = 'Score: ' + window.score;
                        setTimeout(() => {
                            document.querySelectorAll('.tile')[randomTile].style.backgroundColor = '#ccc';
                            document.querySelectorAll('.tile')[randomTile].removeAttribute('onclick');
                        }, 300);
                    }
                }, 300);

                window.currentTimer = setInterval(() => {
                    if (window.paused == false) {
                        if (window.seconds == 60) {
                            window.running = false;
                            clearInterval(window.currentTimer);
                            clearInterval(window.tilesTimer);
                            $('.message').text($('.message').text().replaceAll('{mode}', 'Super Hard'));
                            $('.message').text($('.message').text().replaceAll('{score}', window.score));
                            $('.high-score').text($('.high-score').text().replaceAll('{high-score}', getHighScore('super-hard', window.score)));
                            $('.end-screen').fadeIn(500);
                        }
                        else {
                            window.seconds++;
                            document.querySelector('.time').innerText = 'Seconds: ' + seconds;
                        }
                    }
                }, 1000);
            }
        }, 500);
    }

    $('.change-mode-btn').click(() => {
        $('.start-screen').fadeIn(500, () => {
            $('.end-screen').hide();
        });
    });

    $('.pause').click(() => {
        $('.pause-screen').fadeIn(500);
        window.paused = true;
        window.wasPaused = true;
    });

    $('.btn.resume').click(() => {
        $('.pause-screen').fadeOut(500, () => {
            window.paused = false;
        });
    });

    $('.btn.change-mode').click(() => {
        $('.start-screen').show();
        $('.pause-screen').fadeOut(500);
        window.wasPaused = false;
        window.running = false;
        window.paused = false;
        $('.time').text('Seconds: 0');
        $('.score').text('Score: 0');
        clearInterval(window.currentTimer);
        clearInterval(window.tilesTimer);
    });

    $('.btn.play-again').click(() => {
        $('.pause-screen').fadeOut(500);
        window.wasPaused = false;
        window.running = false;
        window.paused = false;
        $('.time').text('Seconds: 0');
        $('.score').text('Score: 0');
        window.score = 0;
        window.seconds = 0;
    });

    (async () => {
        $('body').css('height', window.innerHeight);
        $(window).on('resize', () => {
            $('body').css('height', window.innerHeight);
        });
    })();
</script>

</html>
